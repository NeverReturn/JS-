<html>
	<head>
		<title>JS获取文件大小 </title>
		<script type='text/javascript'>
			
			///获得文件的大小(单位字节)
			function GetFileSize(fileId) {
			    var dom = document.getElementById(fileId);
			    try {
			        return dom.files[0].size;
			    } catch (e) {
			        try {
			            var img = new Image();
			            img.src = dom.value;
			            img.style.display='none';
			           	document.body.appendChild(img);
									setTimeout(function(){
										document.body.removeChild(img);
									},1000);
			           	return img.fileSize;
			        } catch (e) {
			            return -1;
			        }
			    }
			}
			
			function testFileSize(){
				alert('文件大小=' + GetFileSize('oFile'));	
			}

		</script>
	</head>
	<body>
		<input id='oFile' type='file' value=''>
		<input type='button' value='测试大小' onclick='testFileSize()'>
	</body>	
</html>
